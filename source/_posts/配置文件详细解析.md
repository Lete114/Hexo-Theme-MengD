---
title: 配置文件详细解析
abbrlink: config
date: 2021-01-08 11:06:10
tags:
cover: /img/ianfisherart/2.jpg
description: 完整的描述MengD配置文件的所有功能，以及如何使用，提供完整清晰的Demo示例，如果有什么问题可在文章底部留言
---

> 此篇文章更新较慢，若有哪写的不清楚欢迎编辑并 PRs
> 编辑这篇文章: [配置文件详细解析](https://github.com/lete114/hexo-theme-MengD/edit/docs/source/_posts/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E7%BB%86%E8%A7%A3%E6%9E%90.md)

打开`themes\MengD\_config.yml`
建议不要修改主题目录下的配置文件，你可以将它复制到hexo的根目录，重命名为`_config.MengD.yml`
> 问: 为什么要更名为`_config.MengD.yml`？
> 答: [详细说明](/article/Quick-start.html#%E5%8D%87%E7%BA%A7%E4%B8%BB%E9%A2%98)

## 菜单栏

```yml
# 导航栏菜单
menu:
  首页: /
  找文章:
    - 标签 || /tags
    - 分类 || /categories
    - 归档 || /archives
  友情链接: /link
  关于我: /about
```

可以使用数组形式划分二级菜单栏
>1.  yaml 格式的数组
>```yml
找文章:
  - 标签 || /tags
  - 分类 || /categories
  - 归档 || /archives

```
>2. 代码格式的数组
>```yml
找文章: ['标签 || /tags','分类 || /categories','归档 || /archives']
```

## 自定义侧边栏

打开主题配置文件并找到`sidebar`配置项
修改`enable`为`true`
```yml
# 侧边栏
# 详细: https://mengd.js.org/article/config.html#自定义侧边栏
sidebar: 
  enable: true # 是否开启
  sticky: true # 固定显示
  area: left # 左边: left  右边: right
```

接下来打开hexo根目录下的`source/_data/sidebar.yml`(如果没有则需要手动创建)
> 详细: [source/_data/sidebar.yml](https://github.com/lete114/hexo-theme-mengd/blob/docs/source/_data/sidebar.yml)
`sidebar.yml`文件内容如下：
```yml
## 自定义侧边栏内容
recent: 
  enable: true            # 是否显示最新文章
  sort: date              # 可选参数: date or updated 根据`发布时间`排序,还是`更新时间`排序
  limit: 5                # 显示多少篇 默认: 5
siteInfo:
  enable: true            # 是否显示侧边栏网站统计
  postCounter: true       # 文章数
  runtime: 2021-1-1     # 网站运行时间
  words: true             # 总字数
custom:
  - posit: before         # 在默认的侧边栏的 前(before) / 后(later) 追加自定义卡片
    headline: 公告        # 标题
    class: announcement   # 公告栏class属性
    content: |            # 使用`|`可以写多行
      MengD主题已支持<a href="https://discuss.js.org" target="_blank">Discuss</a>评论系统啦~~~
  - posit: later         # 在默认的侧边栏的 前(before) / 后(later) 追加自定义卡片
    headline: 古诗        # 标题
    class: ancient-poems   # 公告栏class属性
    content: |            # 使用`|`可以写多行
      李白:
      床前明月光，疑是地上霜。
      举头望明月，低头思故乡。
```


## 如何添加新页面

举例：`link`页
执行`hexo new page link`
打开`source\link\index.md`添加`type: link`

```
---
title: 友情链接
date: 2021-01-08 11:27:22
type: link
---
```

打开`source\_data\link.yml`(如果没有就自己建)
写法如下

```yml
class:
  class_name: 个人站点
  link_list:
    - name: 导航网
      link: https://nav.lete114.top/
      avatar: https://nav.lete114.top/images/favicon.png
      descr: 个人导航网

    - name: 个人主页
      link: https://www.lete114.top/
      avatar: https://cdn.jsdelivr.net/gh/lete114/CDN/Lete.png
      descr: Lete乐特个人主页
class2:
  class_name: 开源项目
  link_list:
    - name: Hexo-MengD
      link: https://github.com/lete114/hexo-theme-MengD
      avatar: https://github.com/favicon.ico
      descr: 一个简洁的hexo主题

    - name: Hexo-Yilia-Pro主题
      link: https://github.com/lete114/hexo-theme-yilia-pro
      avatar: https://github.com/favicon.ico
      descr: 基于Yilia主题优化与修改

    - name: Hexo-SEO-AutoPush
      link: https://github.com/lete114/hexo-seo-autopush
      avatar: https://github.com/favicon.ico
      descr: 每天自动提交网站URL到Baidu、Bing、Google
class3:
  class_name: 友情链接
  class_desc: 普通友链
  link_list:
    - name: Lete乐特
      link: https://www.lete114.top
      avatar: https://www.lete114.top/img/avatar.png
      descr: 人生只有一次，大胆的生活！！
```

效果
![效果图](/img/link.png)

## 基本设置

一些配置过于简单，直接看注释即可(继续往下将摘取比较复杂难以理解的配置进行分析)

```yml
favicon: /img/favicon.png ## 网站图标
pageCount: 5 # 首页展示文章数量
MathJax: false # 是否开启数学公式
darkmode: true # 是否开启深色模式
pjax: true # 是否开启pjax
```


> `highlightTheme`:可供 7 中不同颜色搭配的代码块风格样式选择
> `codeBlockExpand`:如果文章中出现过长的代码块，则可以开启此功能将代码折叠起来

```yml
# 代码块高亮主题
highlightTheme: mac # default / darker / pale night / light / ocean / mac / mac light
codeBlockExpand: # 是否开启代码块折叠
enable: false
height: 400 # 代码块高度超过 400 折叠 单位 px
scrollTop: 200 # 展开后,再次(手动点击)点击折叠滚动到代码块开始的距离 单位 px
```




需要安装插件才能进行压缩，在hexo根目录执行`npm install hexo-minify --save`
>```yml
# https://github.com/lete114/hexo-minify
# 需要更全面的压缩请安装插件: npm install hexo-minify --save
minify:
  js: false
  css: true
  html: false
```

右侧工具栏，其中分为两个，一个是放进设置里的(只有点击设置按钮才会展开)`settings`，另一个是直接和回到顶部一样直接显示`show`
配置参数：a 标签属性|a 标签描述|按钮图标
`- harf="javascript:(0)"id="darkmode"||深色/浅色||fas fa-moon`
以数组形式添加，可以是 yaml 形式的数组也可以是代码形式的数组
其中`harf="javascript:(0)"id="darkmode"`为该按钮的 a 标签的属性
`深色/浅色`为按钮的描述
`fas fa-moon`为按钮的图标

```yml
## 自定义侧边栏按钮
## 使用 || 分割
## setting: 点击设置按钮后显示   show: 直接显示
## 拥有3个属性：a标签属性|a标签描述|按钮图标
## #- harf="javascript:(0)"id="darkmode"||深色/浅色||fas fa-moon
rightside:
  settings:
    #- harf="javascript:(0)"id="darkmode"||深色/浅色||fas fa-moon ###渲染结果： <a harf="javascript:(0)" id="darkmode" title="深色/浅色"> <i class="fas fa-moon"></i> </a>
  show:
    #- harf="javascript:(0)"id="darkmode"||深色/浅色||fas fa-moon ###渲染结果： <a harf="javascript:(0)" id="darkmode" title="深色/浅色"> <i class="fas fa-moon"></i> </a>
```

关于文章版权可以在文章页里设置`copyright: false`则此篇文章底部没有版权声明
(评论(comments 属性)、打赏(reward 属性)也可以指定某篇文章关闭)

```
---
title: 友情链接
date: 2021-01-08 11:27:22
type: links
copytight: false
---
```

关于评论的一些问题,目前只支持三款评论系统(有需要可以自行添加，或者给 MengD 提 pr，我们非常欢迎您的加入)
其次是评论里的 option 选项有什么用？该选项可以让你自定义添加主题没有适配的属性
例如：`valine`的 [配置项](https://valine.js.org/configuration.html) 很多，而主题并没有完全写入到配置文件里，你恰巧需要某个属性功能，这时你就需要`option`了
例如`valine`的[recordIP](https://valine.js.org/configuration.html#recordIP)属性

```yml
valine:
  option:
    recordIP: true
```

```yml
# 评论
## 注意大小写
comments: waline # twikoo / waline / valine
```

## icon 图标

主题引用的图标是`fortawesome`，想用什么图标可以去官网查询

如果想使用自己的图标，可以在下方的`import`自己引入，比如阿里图标

```yml
# 图标
social:
  fab fa-github: https://github.com/lete114
  fa fa-envelope: mailto:lete@lete114.top
  iconfont icon-xiaolian: https://xxxxx.com # 示例
```

## 评论

评论下的`option`使用方法
举例 valine 的配置，其配置文件内没有`recordIP`和`highlight`但是 valine 官网有这个选项
https://valine.js.org/configuration.html

```yml
option:
  recordIP: true
  highlight: true
```

## 友链申请

`issues`选项是 gitee 友链申请
具体可以参考： https://gitee.com/lete114/link

`repo_pr`选项是仓库 pr 提交友链申请，直接给友链申请的直链地址即可(只要能访问到地址，无论你放在哪，可以是 github，gitee，gitlab 等)
可以参考： https://github.com/lete114/links

```yml
# 通过issues申请友情链接(目前只支持gitee)
link:
  issues:
    enable: false # 是否开启
    title: Gitee友链 # 主标题
    subtitle: Gitee友链 # 副标题
    owner: lete114 # 仓库拥有者
    repo: link # 仓库昵称
    show_position: later # 显示的位置  前(before) / 后(later)
  repo_pr:
    enable: true # 是否开启
    yml_url: https://cdn.jsdelivr.net/gh/lete114/CDN@latest/link.yml # 友链yml文件
    show_position: later # 显示的位置  前(before) / 后(later)
```

## 总结

其他小配置就不做过多解释，因为注释写的已经很清楚了，有问题，请在下方留言
