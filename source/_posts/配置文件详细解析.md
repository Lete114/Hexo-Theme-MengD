---
title: 配置文件详细解析
abbrlink: config
date: 2021-01-08 11:06:10
tags:
sticky: 2
cover: /img/ianfisherart/2.jpg
description: 完整的描述MengD配置文件的所有功能，以及如何使用，提供完整清晰的Demo示例，如果有什么问题可在文章底部留言
---

> 此篇文章更新较慢，若有哪写的不清楚欢迎编辑并 PRs
> 编辑这篇文章: [配置文件详细解析](https://github.com/lete114/hexo-theme-MengD/edit/docs/source/_posts/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E7%BB%86%E8%A7%A3%E6%9E%90.md)

打开`themes\MengD\_config.yml`
建议不要修改主题目录下的配置文件，你可以将它复制到 hexo 的根目录，重命名为`_config.MengD.yml`

> 问: 为什么要更名为`_config.MengD.yml`？
> 答: [详细说明](/article/Quick-start.html#%E5%8D%87%E7%BA%A7%E4%B8%BB%E9%A2%98)

## 菜单栏

```yml
# 导航栏菜单
menu:
  首页: /
  找文章:
    - 标签 || /tags
    - 分类 || /categories
    - 归档 || /archives
  友情链接: /link
  关于我: /about
```

可以使用数组形式划分二级菜单栏

> 1.  yaml 格式的数组

```yml
找文章:
  - 标签 || /tags
  - 分类 || /categories
  - 归档 || /archives
```

> 2. 代码格式的数组

```yml
找文章: ['标签 || /tags', '分类 || /categories', '归档 || /archives']
```

## 如何添加新页面

举例：`link`页
执行`hexo new page link`
打开`source\link\index.md`添加`type: link`

```
---
title: 友情链接
date: 2021-01-08 11:27:22
type: link
---
```

打开`source\_data\link.yml`(如果没有就自己建)
写法如下

```yml
class:
  class_name: 个人站点
  link_list:
    - name: 导航网
      link: https://nav.lete114.top/
      avatar: https://nav.lete114.top/images/favicon.png
      descr: 个人导航网

    - name: 个人主页
      link: https://www.lete114.top/
      avatar: https://cdn.jsdelivr.net/gh/lete114/CDN/Lete.png
      descr: Lete乐特个人主页
class2:
  class_name: 开源项目
  link_list:
    - name: Hexo-MengD
      link: https://github.com/lete114/hexo-theme-MengD
      avatar: https://github.com/favicon.ico
      descr: 一个简洁的hexo主题

    - name: Hexo-Yilia-Pro主题
      link: https://github.com/lete114/hexo-theme-yilia-pro
      avatar: https://github.com/favicon.ico
      descr: 基于Yilia主题优化与修改

    - name: Hexo-SEO-AutoPush
      link: https://github.com/lete114/hexo-seo-autopush
      avatar: https://github.com/favicon.ico
      descr: 每天自动提交网站URL到Baidu、Bing、Google
class3:
  class_name: 友情链接
  class_desc: 普通友链
  link_list:
    - name: Lete乐特
      link: https://www.lete114.top
      avatar: https://www.lete114.top/img/avatar.png
      descr: 人生只有一次，大胆的生活！！
```

效果
![效果图](/img/link.png)

> 新友链样式
> 其中`screenshot`是网站截图 api，且有一个 url 参数`${url}`主题会自动替换友链内的地址进行网站截图
> 建议不要使用本文的示例，如果用的人多了，可能会随时跑路
> 所以建议你自己免费搭建一个: [https://github.com/Lete114/WebStack-Screenshot](https://github.com/Lete114/WebStack-Screenshot)

> 注意: 友链内`screenshot`属性设置为`true`才会触发网站截图

```yml
screenshot: https://webstack-screenshot.vercel.app/?url=${url}&viewport=1920x1080&fullPage=false&cache=604800

class:
  class_name: 友情链接
  link_list:
    - name: Lete乐特
      screenshot: true # 触发网站截图API
      link: https://www.imlete.cn
      avatar: https://www.imlete.cn/img/avatar.png
      descr: 一个收藏回忆与分享技术的地方！
    - name: 小康博客
      screenshot: true
      link: https://www.antmoe.com/
      avatar: https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg
      descr: 一个收藏回忆与分享技术的地方！

class2:
  class_name: 开源项目
  link_list:
    - name: Hexo-MengD
      link: https://github.com/lete114/hexo-theme-MengD
      avatar: https://github.com/favicon.ico
      descr: 一个简洁的hexo主题

    - name: Hexo-Yilia-Pro主题
      link: https://github.com/lete114/hexo-theme-yilia-pro
      avatar: https://github.com/favicon.ico
      descr: 基于Yilia主题优化与修改

    - name: Hexo-SEO-AutoPush
      link: https://github.com/lete114/hexo-seo-autopush
      avatar: https://github.com/favicon.ico
      descr: 每天自动提交网站URL到Baidu、Bing、Google
class3:
  class_name: 友情链接
  class_desc: 普通友链
  link_list:
    - name: Lete乐特
      link: https://www.imlete.cn
      avatar: https://www.imlete.cn/img/avatar.png
      descr: 人生只有一次，大胆的生活！！
```

效果
![效果图](/img/new-link.png)

## 基本设置

一些配置过于简单，直接看注释即可(继续往下将摘取比较复杂难以理解的配置进行分析)

```yml
favicon: /img/favicon.png ## 网站图标
pageCount: 5 # 首页展示文章数量
MathJax: false # 是否开启数学公式
darkmode: true # 是否开启深色模式
pjax: true # 是否开启pjax
```

> `highlightTheme`:可供 7 中不同颜色搭配的代码块风格样式选择
> `codeBlockExpand`:如果文章中出现过长的代码块，则可以开启此功能将代码折叠起来

```yml
# 代码块高亮主题
highlightTheme: mac # default / darker / pale night / light / ocean / mac / mac light
codeBlockExpand: # 是否开启代码块折叠
enable: false
height: 400 # 代码块高度超过 400 折叠 单位 px
scrollTop: 200 # 展开后,再次(手动点击)点击折叠滚动到代码块开始的距离 单位 px
```

关于文章版权可以在文章页里设置`copyright: false`则此篇文章底部没有版权声明
(评论(comments 属性)、打赏(reward 属性)也可以指定某篇文章关闭)

```
---
title: 友情链接
date: 2021-01-08 11:27:22
type: links
copytight: false
---
```

关于评论的一些问题,目前只支持三款评论系统(有需要可以自行添加，或者给 MengD 提 pr，我们非常欢迎您的加入)
其次是评论里的 option 选项有什么用？该选项可以让你自定义添加主题没有适配的属性
例如：`valine`的 [配置项](https://valine.js.org/configuration.html) 很多，而主题并没有完全写入到配置文件里，你恰巧需要某个属性功能，这时你就需要`option`了
例如`valine`的[recordIP](https://valine.js.org/configuration.html#recordIP)属性

```yml
valine:
  option:
    recordIP: true
```

```yml
# 评论
## 注意大小写
comments: waline # twikoo / waline / valine
```

## icon 图标

主题引用的图标是`fortawesome`，想用什么图标可以去官网查询

如果想使用自己的图标，可以在下方的`import`自己引入，比如阿里图标

```yml
# 图标
social:
  fab fa-github: https://github.com/lete114
  fa fa-envelope: mailto:lete@lete114.top
  iconfont icon-xiaolian: https://xxxxx.com # 示例
```

## 评论

评论下的`options`使用方法
举例 valine 的配置，其配置文件内没有`recordIP`和`highlight`但是 valine 官网有这个选项
https://valine.js.org/configuration.html

```yml
options:
  recordIP: true
  highlight: true
```

## 总结

其他小配置就不做过多解释，因为注释写的已经很清楚了，有问题，请在下方留言
